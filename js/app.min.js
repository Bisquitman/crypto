(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?document.querySelector("html").classList.add("webp"):document.querySelector("html").classList.add("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=document.querySelector(".header__nav-btn"),t=document.querySelector(".header__navigation");e.addEventListener("click",(()=>{t.classList.toggle("header__navigation_open")}))})(),(()=>{const e=document.querySelector(".hero__button"),t=document.querySelector(".overlay"),a=document.querySelector(".modal");t.style.transitionDuration="0.36s",a.style.transitionDuration="0.36s",e.addEventListener("click",(()=>{t.classList.add("overlay_open"),a.classList.add("modal_open")})),t.addEventListener("click",(({target:e})=>{(e===t||e.closest(".modal__close"))&&(t.classList.remove("overlay_open"),a.classList.remove("modal_open"))}));const n=document.querySelector("form"),o=document.querySelector(".modal__title");n.addEventListener("submit",(e=>{e.preventDefault();const s={name:n.name.value,surname:n.surname.value,tel:n.tel.value};fetch("https://api-form-order.herokuapp.com/api/order",{method:"POST",body:JSON.stringify(s)}).then((e=>e.json())).then((e=>{o.textContent=`${e.name}, ваша заявка успешно отправлена, номер заявки: ${e.id}`,n.remove(),setTimeout((()=>{t.classList.remove("overlay_open"),a.classList.remove("modal_open")}),5e3)}))}))})(),(()=>{const e=document.querySelectorAll(".advantages__button"),t=document.querySelectorAll(".advantages__item-content");e.forEach(((a,n)=>{a.addEventListener("click",(()=>{t.forEach(((a,o)=>{n===o?(e[o].classList.add("advantages__button_active"),t[o].classList.add("advantages__item-content_active")):(e[o].classList.remove("advantages__button_active"),t[o].classList.remove("advantages__item-content_active"))}))}))}))})(),(()=>{const e=document.querySelector(".exchange-rates__list"),t=new WebSocket("wss://web-socket-current.herokuapp.com");t.addEventListener("message",(t=>{((e,t)=>{const{from:a,to:n,rate:o,change:s}=JSON.parse(t),c=document.createElement("li");c.classList.add("exchange-rates__item",1===s?"exchange-rates__item_up":"exchange-rates__item_down");const r=document.createElement("span");r.classList.add("exchange-rates__currency"),r.textContent=`${a}/${n}`;const d=document.createElement("span");d.classList.add("exchange-rates__value"),d.textContent=o,c.append(r,d),e.prepend(c),e.children.length>4&&e.children[4].remove()})(e,t.data)})),t.addEventListener("error",(e=>{console.log("err: ",e)}))})()})();